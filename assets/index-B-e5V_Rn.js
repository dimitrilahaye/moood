(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const t of o.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&n(t)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}})();const m="moood_moods";function g(){async function i({mood:o}){const t=e();t.push(o),localStorage.setItem(m,JSON.stringify(t))}async function r({id:o}){const a=e().filter(c=>c.id!==o);localStorage.setItem(m,JSON.stringify(a))}async function s({id:o,mood:t}){const a=e(),c=a.findIndex(l=>l.id===o);c!==-1&&(a[c]=t,localStorage.setItem(m,JSON.stringify(a)))}async function n(){return e()}function e(){const o=localStorage.getItem(m);if(!o)return[];try{return JSON.parse(o).map(a=>({...a,datetime:new Date(a.datetime)}))}catch{return[]}}return{save:i,delete:r,update:s,getAll:n}}const h="modulepreload",_=function(i){return"/moood/"+i},f={},u=function(r,s,n){let e=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),a=(t==null?void 0:t.nonce)||(t==null?void 0:t.getAttribute("nonce"));e=Promise.allSettled(s.map(c=>{if(c=_(c),c in f)return;f[c]=!0;const l=c.endsWith(".css"),p=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":h,l||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((y,w)=>{d.addEventListener("load",y),d.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(t){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=t,window.dispatchEvent(a),!a.defaultPrevented)throw t}return e.then(t=>{for(const a of t||[])a.status==="rejected"&&o(a.reason);return r().catch(o)})};function D({storagePort:i}){return{async create({note:r,datetime:s}){const{createMood:n}=await u(async()=>{const{createMood:o}=await import("./Mood-CgpvuQy0.js");return{createMood:o}},[]),e=n({note:r,datetime:s});return await i.save({mood:e}),e},async delete({id:r}){await i.delete({id:r})},async update({id:r,note:s,datetime:n}){const{createMood:e}=await u(async()=>{const{createMood:a}=await import("./Mood-CgpvuQy0.js");return{createMood:a}},[]),t={...e({note:s,datetime:n}),id:r};return await i.update({id:r,mood:t}),t},async getAll(){return await i.getAll()},async getByDate({date:r}){const s=await i.getAll(),n=new Date(r);n.setHours(0,0,0,0);const e=new Date(n);return e.setDate(e.getDate()+1),s.filter(o=>{const t=new Date(o.datetime);return t>=n&&t<e})},async getByWeek({weekStart:r}){const s=await i.getAll(),n=new Date(r);n.setHours(0,0,0,0);const e=new Date(n);return e.setDate(e.getDate()+7),s.filter(o=>{const t=new Date(o.datetime);return t>=n&&t<e})},async getByMonth({monthStart:r}){const s=await i.getAll(),n=new Date(r);n.setDate(1),n.setHours(0,0,0,0);const e=new Date(n);return e.setMonth(e.getMonth()+1),s.filter(o=>{const t=new Date(o.datetime);return t>=n&&t<e})}}}function E(){const i=g();return{moodsUseCase:D({storagePort:i})}}function v({deps:i}){function r(n){window.history.pushState({},"",n),s()}async function s(){const n=window.location.pathname.replace("/moood","")||"/",e=document.getElementById("app");if(e)if(e.innerHTML="",n==="/"||n==="/home"){const{renderHomePage:o}=await u(async()=>{const{renderHomePage:t}=await import("./index-DGSRc5Mh.js");return{renderHomePage:t}},[]);o({root:e,params:{},deps:i})}else if(n==="/list"){const{renderListPage:o}=await u(async()=>{const{renderListPage:t}=await import("./index-Vymgn1Oc.js");return{renderListPage:t}},[]);o({root:e,params:{},deps:i})}else if(n==="/bilans"){const{renderBilansPage:o}=await u(async()=>{const{renderBilansPage:t}=await import("./index-CasHEA7V.js");return{renderBilansPage:t}},[]);o({root:e,params:{},deps:i})}else r("/")}return window.addEventListener("popstate",s),s(),window.router={navigate:r},{navigate:r}}const A=E();v({deps:A});
